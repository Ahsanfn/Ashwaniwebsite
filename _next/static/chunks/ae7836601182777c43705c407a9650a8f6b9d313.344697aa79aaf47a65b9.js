(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"1L/7":function(e,t,n){"use strict";n.d(t,"a",(function(){return ce}));var i=n("rePB"),r=n("iYmT"),a=n("h4VS"),o=n("q1tI"),c=n.n(o),s=n("car3"),l=n("cZi2"),d=n("a9pQ"),u=n("m/7i"),v=n("wTIg"),b=n("uUrX"),p=n("FsMg"),g=n("qKvR");c.a.createElement;var m=Object(v.a)("div",{target:"elzv7uf0"})({fontSize:16,lineHeight:"24px",color:l.d.green_dark,fontWeight:l.f.bold,textAlign:"center",margin:8},""),f=Object(v.a)("p",{target:"elzv7uf1"})({fontSize:14,lineHeight:"22px",textAlign:"center",fontWeight:l.f.light},""),j={name:"izs3xi",styles:"height:100px;width:100%;object-fit:cover;margin-left:16px;"},O=function(){return Object(g.e)("div",{css:Object(r.a)({display:"flex",flexDirection:"column",alignItems:"center",borderTop:"1px solid ".concat(l.d.gray_light),padding:"32px 16px"},"")},Object(g.e)(b.a,{src:"https://a.storyblok.com/f/53624/x/9dcd36fd3d/illustration-origami-1.svg",css:j}),Object(g.e)(m,null,"Check back soon for availability"),Object(g.e)(f,null,"To stay updated about all things Online Escapes,\xa0",Object(g.e)(p.a,{href:"https://app.monstercampaigns.com/c/xsjabq1gtgyytgewqloc/",target:"_blank",variant:"flat",color:l.d.text_dark,css:Object(r.a)({textDecoration:"underline",fontWeight:l.f.book,display:"inline"},"")},"sign up for emails")))},h=n("o0o1"),y=n.n(h),w=n("HaE+"),x=n("Wgwc"),k=n.n(x),E=n("pFCb"),S=n("dhqo"),R=n.n(S);c.a.createElement;function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=Object(v.a)("div",{target:"eyid8jp0"})({height:16,width:16,borderRadius:"50%",backgroundColor:"white",border:"1px solid ".concat(l.d.gray_medium_light)},""),F=function(e){var t=e.startTime,n=e.minutes,a=e.pricePerPerson,o=e.spotsLeft,c=e.handleItemOnClick,s=o>0,d=(new Date).toLocaleTimeString("en-us",{timeZoneName:"short"}).split(" ")[2];return Object(g.e)("div",{onClick:c,css:Object(r.a)(q(q({},s&&Object(i.a)({},"&:hover",{cursor:s?"pointer":void 0,background:l.d.primary_lightest})),{},{paddingLeft:24,gap:16,display:"grid",height:70,fontSize:14,alignItems:"center",gridTemplateColumns:"16px 60% 1fr"}),"")},s?Object(g.e)(P,null):Object(g.e)("div",null),Object(g.e)("div",null,Object(g.e)("div",{css:Object(r.a)({fontWeight:l.f.light},"")},k()(t).format("h:mma")," - "," ",k()(t).add(n,"minute").format("h:mma"),"\xa0",d),o<=5&&s&&Object(g.e)("div",{css:Object(r.a)({backgroundColor:l.d.escapes_yellow,display:"inline-block",fontSize:12,lineHeight:1.5,padding:"0 4px",marginTop:4,borderRadius:l.j.box},"")},"Only ","".concat(o," ").concat(R()("spot",o)," left!"))),Object(g.e)("div",{css:Object(r.a)({fontWeight:l.f.bold},"")},s?a:"Sold out"))},C=n("3n7N");c.a.createElement;var _={name:"1jbopk",styles:"overflow:auto;max-height:500px;margin:0 -16px;"},z=function(e){var t,n=e.escape,i="CA"===Object(E.c)().market?"CAD":"USD",a=null===n||void 0===n?void 0:null===(t=n.dates)||void 0===t?void 0:t.items.filter((function(e){return!e.isPrivate}));if(!(null===a||void 0===a?void 0:a.length))return Object(g.e)(O,null);var o=null===a||void 0===a?void 0:a.reduce((function(e,t){var n=e[e.length-1];return e.every((function(e){return!k()(null===e||void 0===e?void 0:e.date).isSame(null===t||void 0===t?void 0:t.startTime,"day")}))?e.push({date:null===t||void 0===t?void 0:t.startTime,escapeDates:[t]}):null===n||void 0===n||n.escapeDates.push(t),e}),[]);return Object(g.e)("div",{css:_},null===o||void 0===o?void 0:o.map((function(e,t){var a;return Object(g.e)("div",{key:e.date},Object(g.e)("div",{css:Object(r.a)({position:"sticky",top:0,paddingTop:8,paddingBottom:8,display:"flex",backgroundColor:l.d.tan_medium_light,justifyContent:"center",fontSize:14},"")},k()(e.date).format("dddd, MMM DD")),null===e||void 0===e?void 0:null===(a=e.escapeDates)||void 0===a?void 0:a.map((function(e){var t;return Object(g.e)(F,{handleItemOnClick:Object(w.a)(y.a.mark((function t(){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.spotsLeft<=0)){t.next=2;break}return t.abrupt("return");case 2:Object(C.d)({event:"eeAdd",ecommerce:{add:{products:[{id:n._id,name:n.name,variant:"escape",category:n._id}]}}}),Object(C.d)({event:"track",gaTracking:{eventCategory:"online escapes",eventAction:"select date",eventLabel:k()(e.startTime).format("dddd, MMM DD h:mma")}}),window.location.href="/online-escapes-checkout/".concat(null===e||void 0===e?void 0:e._id);case 5:case"end":return t.stop()}}),t)}))),key:e._id,startTime:e.startTime,minutes:e.minutes,spotsLeft:e.spotsLeft,pricePerPerson:null===(t=e.pricePerPerson)||void 0===t?void 0:t[i].formatted})})))})))},D=n("p+FZ");c.a.createElement;var $=Object(v.a)("div",{target:"e545l7x0"})({fontSize:16,fontWeight:D.c.bold},""),A={name:"m37ama",styles:"display:grid;margin:0 -16px 16px;padding-left:24px;gap:16px;font-size:12px;grid-template-areas:'. When Price';grid-template-columns:16px 60% 1fr;"},I={name:"e71f9r",styles:"font-weight:bold;grid-area:When;"},Q={name:"1rgo54l",styles:"font-weight:bold;grid-area:Price;"},W=function(){return Object(g.e)(c.a.Fragment,null,Object(g.e)("div",{css:Object(r.a)({display:"flex",paddingBottom:16,margin:"0 -16px 16px",justifyContent:"center",borderBottom:"1px solid ".concat(l.d.gray_light)},"")},Object(g.e)($,null,"Reserve your spot")),Object(g.e)("div",{css:A},Object(g.e)("div",{css:I},"Start/End time"),Object(g.e)("div",{css:Q},"Price")))},L=n("hK8T"),B=n("ha4E"),M=n("OfPP"),H=n("VX74"),N=n("nOHt");c.a.createElement;function V(){var e=Object(a.a)(['\n    query FindEscape($slug: String!, $startTimeFilter: StringFilter, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter\n        }) {\n            items {\n                _id\n                name\n                dates(filter: {\n                    startTime: $startTimeFilter,\n                    status: {\n                        EQ: "Confirmed"\n                    }\n                }) {\n                    items {\n                        _id\n                        minutes\n                        startTime\n                        nbParticipants\n                        spotsLeft\n                        pricePerPerson {\n                            USD {\n                                formatted(format:"$0.00")\n                            }\n                            CAD{\n                                formatted(format:"$0.00")\n                            }\n                        }\n                        isPrivate\n                    }\n                }\n            }\n        }\n    }\n']);return V=function(){return e},e}var X=Object(H.gql)(V()),Y={name:"1l4w6pd",styles:"display:flex;justify-content:center;"},U={name:"19midj6",styles:"padding:16px;"},G=function(){var e,t,n,i,a=Object(N.useRouter)().query,o=Object(H.useQuery)(X,{variables:{slug:a.slug,startTimeFilter:{GT:k()().endOf("minute").add(15,"minute").toISOString()},statusFilter:(null===a||void 0===a?void 0:a.preview)?void 0:{EQ:"Active"}},ssr:!1}),c=o.data,s=o.loading,d=null===c||void 0===c?void 0:null===(e=c.escapes)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t[0],u=(null===d||void 0===d?void 0:null===(n=d.dates)||void 0===n?void 0:null===(i=n.items)||void 0===i?void 0:i.length)>0;return s?Object(g.e)("div",{css:Y},Object(g.e)(M.c,{visible:!0})):Object(g.e)(L.a,{id:"escapesDates",css:U},Object(g.e)(W,null),Object(g.e)(z,{escape:d}),Object(g.e)("div",{css:Object(r.a)({paddingTop:16,display:"flex",alignItems:"center",justifyContent:"center",borderTop:"1px solid ".concat(l.d.gray_light),margin:"0 -16px"},"")},Object(g.e)(B.a,{disabled:!0,color:l.d.gray_medium},u?"Select a date":"No dates available")))},K=n("60rM"),Z=n("CzWU"),J=n("cLkT"),ee=(c.a.createElement,function(e){var t=e.link;return t?Object(g.e)(L.a,{css:Object(r.a)({marginTop:16,padding:"32px 16px",backgroundColor:l.d.tan_medium_light,boxShadow:"none",textAlign:"center"},"")},Object(g.e)("h3",{css:Object(r.a)({fontSize:16,fontWeight:l.f.bold},"")},"Make it a private event"),Object(g.e)("p",{css:Object(r.a)({fontWeight:l.f.light,fontSize:14,lineHeight:"22px",margin:"8px 0 16px"},"")},"You can book this Online Escape exclusively for your group of family, friends, or coworkers."),Object(g.e)(p.a,{href:t,rel:"noopener",target:"_blank",variant:"outline",color:l.d.text_dark},"Request private event")):null}),te=n("gAdt");c.a.createElement;function ne(){var e=Object(a.a)(["\n    query FindEscape($slug: String!, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter\n        }) {\n            items {\n                _id\n                whatToBring\n                privateEventRequestLink\n                host {\n                    _id\n                    displayName\n                    bio\n                    image\n                    signatureImage\n                    title\n                    location\n                }\n            }\n        }\n    }\n"]);return ne=function(){return e},e}var ie=Object(H.gql)(ne()),re={name:"boelca",styles:"grid-area:intro;"},ae={name:"12stmb",styles:"grid-area:addenda;margin-top:32px;"},oe={name:"ewxg4q",styles:"grid-area:dates;"},ce=function(){var e,t,n,a=Object(E.c)().market,o=Object(te.a)({prefix:"CA"===a?"en-ca":"en-us"}).result,c=null===o||void 0===o?void 0:null===(e=o.content)||void 0===e?void 0:e.faqs,v=Object(N.useRouter)().query,b=Object(H.useQuery)(ie,{variables:{slug:v.slug,statusFilter:(null===v||void 0===v?void 0:v.preview)?void 0:{EQ:"Active"}}}).data,p=null===b||void 0===b?void 0:null===(t=b.escapes)||void 0===t?void 0:null===(n=t.items)||void 0===n?void 0:n[0];return p?Object(g.e)(s.a,{width:"large",css:Object(r.a)(Object(i.a)({display:"grid",gridGap:32,boxSizing:"border-box",padding:"32px 16px",position:"relative",gridTemplate:'\n                    "intro"\n                    "dates"\n                    "addenda"\n                '},l.i.lg,{padding:"64px 32px",grid:'\n                        "intro dates"\n                        "addenda dates"\n                        / 1fr 368px\n                    '}),"")},Object(g.e)("div",{css:re},Object(g.e)(d.a,null),Object(g.e)(Z.f,{host:null===p||void 0===p?void 0:p.host}),Object(g.e)(K.a,null)),Object(g.e)("div",{css:ae},Object(g.e)(u.a,{whatToBring:null===p||void 0===p?void 0:p.whatToBring}),Object(g.e)(J.c,null),c&&Object(g.e)("h3",{css:Object(r.a)(Object(i.a)({marginTop:64,paddingBottom:16,fontSize:21,fontWeight:l.f.bold},l.i.sm,{fontSize:24}),"")},"Getting ready"),Object(g.e)(Z.c,{uuid:c})),Object(g.e)("div",{css:oe},Object(g.e)(G,null),Object(g.e)(ee,{link:null===p||void 0===p?void 0:p.privateEventRequestLink}))):null}},"60rM":function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var i=n("rePB"),r=n("iYmT"),a=n("wTIg"),o=n("q1tI"),c=n.n(o),s=n("cZi2"),l=n("uUrX"),d=n("qKvR");c.a.createElement;var u=Object(a.a)("h3",{target:"es6n4do0"})({fontSize:18,fontWeight:s.f.bold,marginBottom:8},""),v={name:"zupw4a",styles:"display:flex;justify-content:center;flex-direction:column;"},b=function(){var e;return Object(d.e)("div",{css:Object(r.a)((e={backgroundColor:s.d.escapes_teal,borderRadius:s.j.polished,fontWeight:s.f.light,padding:16,display:"grid",gap:32,lineHeight:1.5},Object(i.a)(e,s.i.sm,{gridTemplateColumns:"auto 1fr",padding:32}),Object(i.a)(e,"marginTop",64),e),"")},Object(d.e)("div",{css:Object(r.a)(Object(i.a)({display:"none"},s.i.sm,{display:"block"}),"")},Object(d.e)(l.a,{src:"https://img2.storyblok.com/140x0/f/53624/280x280/f1885748ff/illustration-riskfreebooking-280x280.png"})),Object(d.e)("div",{css:v},Object(d.e)(u,null,"Shared real-time experiences"),Object(d.e)("p",null,"Online Escapes are livestreamed, so you\u2019ll use your computer, phone, or tablet to connect with your host and others around the world.")))}},FiYp:function(e,t,n){"use strict";n.d(t,"a",(function(){return q}));var i=n("iYmT"),r=n("rePB"),a=n("h4VS"),o=n("wTIg"),c=n("q1tI"),s=n.n(c),l=n("cZi2"),d=n("0RwA"),u=n.n(d),v=n("ha4E"),b=n("GO+l"),p=n("CzWU"),g=n("pFCb"),m=n("VX74"),f=n("nOHt"),j=n("qKvR");s.a.createElement;function O(){var e=Object(a.a)(['\n    query FindEscape($slug: String!, $startTimeFilter: StringFilter, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter\n        }) {\n            items {\n                _id\n                title\n                name\n                description\n                minGroupSize\n                maxGroupSize\n                minutes\n                leadInPrice {\n                    USD {\n                        formatted(format:"$0.00")\n                        inCents\n                    }\n                    CAD {\n                        formatted(format:"$0.00")\n                        inCents\n                    }\n                }\n                slug\n                nbReviews\n                averageRating\n                host {\n                    _id\n                    displayName\n                    bio\n                    image\n                    signatureImage\n                    title\n                    location\n                }\n                dates(filter: {\n                    startTime: $startTimeFilter,\n                    status: {\n                        EQ: "Confirmed"\n                    }\n                }) {\n                    items {\n                        _id\n                    }\n                }\n            }\n        }\n    }\n']);return O=function(){return e},e}var h=Object(m.gql)(O()),y=Object(o.a)("div",{target:"eopv0bj0"})({fontWeight:l.f.bold,fontSize:14},""),w=Object(o.a)("div",{target:"eopv0bj1"})({fontWeight:l.f.book,fontSize:14},""),x=Object(o.a)("h2",{target:"eopv0bj2"})(Object(r.a)({fontSize:32,fontWeight:l.f.bold,color:l.d.text_dark,lineHeight:1.25,margin:"8px 0 16px"},l.i.md,{fontSize:46}),""),k={name:"whwn3u",styles:"grid-area:duration;"},E={name:"1xuwdrg",styles:"grid-area:price;"},S={name:"194fj0v",styles:"grid-area:group;"},R={name:"1kd3npg",styles:"grid-area:button;vertical-align:bottom;"},T={name:"ytumd6",styles:"text-decoration:none;"},q=function(){var e,t,n,a,o,c,s,d,O,q,P=Object(g.c)().market,F="CA"===P?"CAD":"USD",C=Object(f.useRouter)().query,_=Object(m.useQuery)(h,{variables:{slug:C.slug,statusFilter:(null===C||void 0===C?void 0:C.preview)?void 0:{EQ:"Active"}}}).data,z=null===_||void 0===_?void 0:null===(e=_.escapes)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t[0];if(!z)return null;var D=Object(p.l)(z.minutes),$=(null===z||void 0===z?void 0:null===(n=z.dates)||void 0===n?void 0:null===(a=n.items)||void 0===a?void 0:a.length)>0,A=$&&0!==(null===(o=z.leadInPrice)||void 0===o?void 0:null===(c=o[F])||void 0===c?void 0:c.inCents);return Object(j.e)("div",null,Object(j.e)(p.g,{location:null===(s=z.host)||void 0===s?void 0:s.location}),Object(j.e)(x,null,z.name),Object(j.e)("div",{css:Object(i.a)((d={display:"grid",gridGap:16,grid:'\n                        "duration price" 1fr\n                        "group reviews" 1fr\n                        "button button" 1fr\n                        / 1fr 1fr\n                        '},Object(r.a)(d,l.i.md,{grid:(null===z||void 0===z?void 0:z.nbReviews)?$?'"duration price group reviews button" 1fr':'"duration group reviews button" 1fr':$?'"duration price group button" 1fr':'"duration group button" 1fr'}),Object(r.a)(d,l.i.lg,{grid:A?'\n                            "duration price group reviews" 1fr\n                            "button button button button" 1fr\n                            ':'\n                            "duration group reviews" 1fr\n                            "button button button button" 1fr\n                            '}),Object(r.a)(d,l.i.xl,{grid:(null===z||void 0===z?void 0:z.nbReviews)?A?'"duration price group reviews button" 1fr':'"duration group reviews button" 1fr':A?'"duration price group button" 1fr':'"duration group button" 1fr'}),d),"")},Object(j.e)("div",{css:k},Object(j.e)(y,null,"Duration"),Object(j.e)(w,null,D)),A&&Object(j.e)("div",{css:E},Object(j.e)(y,null,"Price"),Object(j.e)(w,null,"From ",null===(O=z.leadInPrice)||void 0===O?void 0:null===(q=O[F])||void 0===q?void 0:q.formatted,"CA"===P&&" CAD")),Object(j.e)("div",{css:S},Object(j.e)(y,null,"Group size"),Object(j.e)(w,null,"Up to ",z.maxGroupSize," people")),!!(null===z||void 0===z?void 0:z.nbReviews)&&Object(j.e)("div",{css:Object(i.a)({gridArea:"reviews",visibility:"".concat(z.nbReviews?"visible":"hidden")},"")},Object(j.e)(y,null,"Reviews"),Object(j.e)(w,null,Object(j.e)(u.a,{"data-gtm-action":"review scroll","data-gtm-label":z._id,to:"escapesReviews",css:Object(i.a)({color:l.d.text_dark},"")},Object(j.e)(b.a,{value:z.averageRating,max:5,total:z.nbReviews,css:Object(i.a)({textDecoration:"underline",color:l.d.text_dark},"")})))),Object(j.e)("div",{css:R},Object(j.e)(u.a,{to:"escapesDates","data-gtm-action":"book now scroll","data-gtm-label":z.title,css:T},Object(j.e)(v.a,{variant:"outline",color:l.d.text_dark},"Book now")),Object(j.e)(p.h,null))))}},J1rc:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n("h4VS"),r=n("VX74");function a(){var e=Object(i.a)(["\n    fragment EscapeReviewParts on EscapeReview {\n        _id\n        rating\n        title\n        body\n        createdDate\n        displayName\n        status\n        employeeResponse {\n            employeeName\n            body\n            responseDate\n        }\n    }\n"]);return a=function(){return e},e}var o=Object(r.gql)(a())},M1pw:function(e,t,n){"use strict";n.d(t,"a",(function(){return _}));var i=n("iYmT"),r=n("h4VS"),a=n("q1tI"),o=n.n(a),c=n("jqRE"),s=n("rePB"),l=n("car3"),d=n("cZi2"),u=n("qKvR");o.a.createElement;var v={name:"ile72d",styles:"grid-area:media1;position:relative;"},b={name:"1u07f",styles:"grid-area:media2;position:relative;"},p={name:"1e2b2r6",styles:"grid-area:media3;position:relative;"},g=function(e){var t,n=e.media1,r=e.media2,a=e.media3,o=e.media4,c=e.content;return Object(u.e)(l.a,{width:"full",css:Object(i.a)((t={display:"grid",gridGap:8,grid:'\n                    "media1 media2" 130px\n                    "media1 media3" 130px\n                    "content content" auto\n                    / 2fr 1fr\n                '},Object(s.a)(t,d.i.sm,{grid:'\n                        "media1 media2 media3" 170px\n                        "media1 media4 media4" 180px\n                        "content content content" auto\n                        / 2fr 1fr 1fr\n                    '}),Object(s.a)(t,d.i.md,{grid:'\n                        "media1 media2 media3" 230px\n                        "media1 media4 media4" 250px\n                        "content content content" auto\n                        / 2fr 1fr 1fr\n                    '}),Object(s.a)(t,d.i.lg,{height:530}),Object(s.a)(t,d.i.lg,{grid:'\n                        "media1 content content content" 3fr\n                        "media1 media2 media3 media4" 2fr\n                        / 3fr 1fr 1fr 2fr\n                    ',height:550}),Object(s.a)(t,d.i.xl,{gridTemplateRows:"1fr 1fr",gridTemplateColumns:"2fr 1fr 1fr 2fr"}),t),"")},Object(u.e)("div",{css:Object(i.a)(Object(s.a)({gridArea:"content",position:"relative"},d.i.lg,{margin:"0 32px"}),"")},c),Object(u.e)("div",{css:v},n),Object(u.e)("div",{css:b},r),Object(u.e)("div",{css:p},a),Object(u.e)("div",{css:Object(i.a)(Object(s.a)({gridArea:"media4",position:"relative",display:"none"},d.i.sm,{display:"inherit"}),"")},o))},m=n("uUrX"),f=n("FiYp"),j=n("XXOr"),O=n("wx14"),h=n("Ff2n"),y=n("3n7N"),w=(o.a.createElement,function(e){e.children;var t=e.eventCategory,n=e.eventAction,i=Object(h.a)(e,["children","eventCategory","eventAction"]),r=Object(a.useState)(i.muted),o=r[0],c=r[1],s=Object(a.useRef)(null),l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"video";return{play:function(){return Object(y.d)({event:"track",gaTracking:{eventCategory:e,eventAction:t,eventLabel:"play"}})},pause:function(){return Object(y.d)({event:"track",gaTracking:{eventCategory:e,eventAction:t,eventLabel:"pause"}})},mute:function(){return Object(y.d)({event:"track",gaTracking:{eventCategory:e,eventAction:t,eventLabel:"mute"}})},unmute:function(){return Object(y.d)({event:"track",gaTracking:{eventCategory:e,eventAction:t,eventLabel:"unmute"}})},enterPictureInPicture:function(){return Object(y.d)({event:"track",gaTracking:{eventCategory:e,eventAction:t,eventLabel:"pop out"}})},enterFullScreen:function(){return Object(y.d)({event:"track",gaTracking:{eventCategory:e,eventAction:t,eventLabel:"full screen"}})}}}(t,n),d=function(){document.fullscreenElement&&l.enterFullScreen()};return Object(a.useEffect)((function(){return s.current.addEventListener("enterpictureinpicture",l.enterPictureInPicture),s.current.addEventListener("fullscreenchange",d),s.current.addEventListener("mozfullscreenchange",d),s.current.addEventListener("webkitfullscreenchange",d),function(){s.current.removeEventListener("enterpictureinpicture",l.enterPictureInPicture),s.current.removeEventListener("fullscreenchange",d),s.current.removeEventListener("mozfullscreenchange",d),s.current.removeEventListener("webkitfullscreenchange",d)}}),[]),Object(u.e)("video",Object(O.a)({ref:s,onPlay:l.play,onPause:l.pause,onVolumeChange:function(e){e.currentTarget.muted!==o&&(e.currentTarget.muted?l.mute():l.unmute(),c(e.currentTarget.muted))}},i))}),x=n("VX74"),k=n("nOHt");o.a.createElement;function E(){var e=Object(r.a)(["\n    query FindEscape($slug: String!, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter\n        }) {\n            items {\n                _id\n                name\n                images {\n                    url\n                }\n                videoUrl\n            }\n        }\n    }\n"]);return E=function(){return e},e}var S=Object(x.gql)(E()),R={name:"g50swt",styles:"background-color:#f0edeb;"},T={name:"16qh4o2",styles:"object-fit:cover;object-position:50% 50%;position:absolute;left:0;right:0;top:0;bottom:0;width:100%;height:100%;"},q={name:"16o9jev",styles:"position:absolute;left:0;right:0;top:0;bottom:0;object-fit:cover;width:100%;height:100%;object-position:50% 50%;"},P={name:"16o9jev",styles:"position:absolute;left:0;right:0;top:0;bottom:0;object-fit:cover;width:100%;height:100%;object-position:50% 50%;"},F={name:"16o9jev",styles:"position:absolute;left:0;right:0;top:0;bottom:0;object-fit:cover;width:100%;height:100%;object-position:50% 50%;"},C={name:"16o9jev",styles:"position:absolute;left:0;right:0;top:0;bottom:0;object-fit:cover;width:100%;height:100%;object-position:50% 50%;"},_=function(){var e,t,n,r,a,o,s,v=Object(k.useRouter)().query,b=Object(x.useQuery)(S,{variables:{slug:v.slug,statusFilter:(null===v||void 0===v?void 0:v.preview)?void 0:{EQ:"Active"}}}).data,p=null===b||void 0===b?void 0:null===(e=b.escapes)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t[0];if(!p)return null;var O=p.videoUrl,h=p.images,y=p.name,E=(null===y||void 0===y?void 0:null===(n=y.split(" "))||void 0===n?void 0:n.length)>3?"".concat(null===y||void 0===y?void 0:y.split(" ").slice(0,3).join(" "),"..."):y;return Object(u.e)("div",{css:R},Object(u.e)(l.a,{css:Object(i.a)({padding:16,fontWeight:d.f.book},"")},Object(u.e)(j.a,null,Object(u.e)(j.b,{href:"/online-escapes"},"Online Escapes"),Object(u.e)("span",null,E)),Object(u.e)(g,{content:Object(u.e)(f.a,null),media1:O?Object(u.e)(w,{eventCategory:"online escapes",css:T,autoPlay:!0,muted:!0,controls:!0,src:O}):Object(u.e)(m.a,{src:Object(c.w)(null===(r=h[3])||void 0===r?void 0:r.url,{size:{height:1100}}),css:q}),media2:Object(u.e)(m.a,{src:Object(c.w)(null===(a=h[0])||void 0===a?void 0:a.url,{size:{height:600}}),css:P}),media3:Object(u.e)(m.a,{src:Object(c.w)(null===(o=h[1])||void 0===o?void 0:o.url,{size:{height:600}}),css:F}),media4:Object(u.e)(m.a,{src:Object(c.w)(null===(s=h[2])||void 0===s?void 0:s.url,{size:{width:800}}),css:C})})))}},XXOr:function(e,t,n){"use strict";n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return b}));var i=n("q1tI"),r=n.n(i),a=n("FsMg"),o=n("cZi2"),c=n("Tgqd"),s=n("qKvR");r.a.createElement;var l={name:"1qxtz39",styles:"font-size:12px;"},d=function(e){var t=e.href,n=e.children;return Object(s.e)(a.a,{href:t,variant:"flat",color:o.d.text_dark,css:l},n)},u={name:"s07qrh",styles:"font-size:12px;margin-bottom:16px;"},v={name:"11mk88q",styles:"px:8px;vertical-align:middle;"},b=function(e){var t=e.children;return Object(s.e)("div",{css:u},r.a.Children.map(t,(function(e,t){return 0===t?e:Object(s.e)(r.a.Fragment,null,Object(s.e)(c.i,{size:14,css:v}),e)})))}},a9pQ:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var i=n("iYmT"),r=n("h4VS"),a=n("wTIg"),o=n("q1tI"),c=n.n(o),s=n("cZi2"),l=n("VX74"),d=n("nOHt"),u=n("qKvR");c.a.createElement;function v(){var e=Object(r.a)(["\n    query FindEscape($slug: String!, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter\n        }) {\n            items {\n                _id\n                title\n                description\n            }\n        }\n    }\n"]);return v=function(){return e},e}var b=Object(l.gql)(v()),p=Object(a.a)("h1",{target:"e1xvqbdi0"})({fontSize:22,lineHeight:"28px",marginBottom:16,fontWeight:s.f.bold},""),g=function(){var e,t,n=Object(d.useRouter)().query,r=Object(l.useQuery)(b,{variables:{slug:n.slug,statusFilter:(null===n||void 0===n?void 0:n.preview)?void 0:{EQ:"Active"}}}).data,a=null===r||void 0===r?void 0:null===(e=r.escapes)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t[0];if(!a)return null;var o=a.title,c=a.description;return Object(u.e)("div",null,Object(u.e)(p,null,o),Object(u.e)("div",{css:Object(i.a)({fontWeight:s.f.light,lineHeight:"24px",whiteSpace:"pre-wrap"},"")},c))}},cLkT:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return y})),n.d(t,"c",(function(){return L}));var i=n("iYmT"),r=n("q1tI"),a=n.n(r),o=n("cZi2"),c=n("dhqo"),s=n.n(c),l=n("GO+l"),d=n("qKvR");a.a.createElement;var u={name:"66f4ho",styles:"color:black;font-size:12px;"},v={name:"ebzdjw",styles:"line-height:1;margin-left:8px;font-size:14px;"},b=function(e){var t=e.nbReviews,n=e.averageRating;return t?Object(d.e)("div",{css:Object(i.a)({borderBottom:"1px solid ".concat(o.d.gray_medium_light),paddingBottom:32},"")},Object(d.e)("div",null,Object(d.e)(l.b,{value:n,max:5,css:u}),Object(d.e)("span",{css:v},"Overall rating ",null===n||void 0===n?void 0:n.toFixed(1)," out of 5")),Object(d.e)("div",{css:Object(i.a)({fontWeight:o.f.light,marginTop:8},"")},"Based on ",t," authentic and unedited participant ",s()("reviews",t))):null},p=n("4+Kl"),g=n("Wgwc"),m=n.n(g),f=(a.a.createElement,function(e){var t=e.body,n=e.employeeName,r=e.responseDate,a=e.className;return Object(d.e)("div",{className:a,css:Object(i.a)({padding:16,marginTop:16,backgroundColor:o.d.tan_medium_light,borderRadius:o.j.polished,whiteSpace:"pre-wrap"},"")},Object(d.e)("div",{css:Object(i.a)({fontWeight:o.f.bold,marginBottom:16},"")},n," replied on ",m()(r).format("M/DD/YYYY")),Object(d.e)(p.a,{variant:"escapes",limit:180,text:t}))});a.a.createElement;var j={name:"5q0sye",styles:"margin-top:32px;white-space:pre-wrap;"},O={name:"66f4ho",styles:"color:black;font-size:12px;"},h=function(e){var t=e.rating,n=e.title,r=e.createdDate,a=e.body,c=e.employeeResponse,s=e.displayName;return a?Object(d.e)("div",{css:j},Object(d.e)(l.b,{value:t,max:5,css:O}),n&&Object(d.e)("div",{css:Object(i.a)({fontWeight:o.f.bold,margin:"8px 0"},"")},n),Object(d.e)("div",{css:Object(i.a)({fontWeight:o.f.light,margin:"16px 0"},"")},m()(r).format("MM/DD/YY")," by ",s),Object(d.e)(p.a,{variant:"escapes",limit:225,text:a}),c&&Object(d.e)(f,c)):null},y=(a.a.createElement,function(){return Object(d.e)("ul",{css:Object(i.a)({lineHeight:"24px",listStyle:"disc",fontWeight:o.f.light,paddingLeft:24},"")},Object(d.e)("li",null,"Avoid inappropriate language."),Object(d.e)("li",null,"Use first names only. If you would like to mention your host, a Go Ahead staff member, a fellow participant or yourself, please do not include any last names. Please note that any last names used will be removed from your review prior to posting."),Object(d.e)("li",null,"Do not call out any prices, including the price of your Online Escape or discounts received."),Object(d.e)("li",null,"Refrain from posting content about other companies or websites."),Object(d.e)("li",null,"To protect your privacy, do not include personal information that you do not want to appear on our website."))}),w=n("KQm4"),x=n("rePB"),k=n("h4VS"),E=n("wTIg"),S=n("VX74"),R=n("nOHt"),T=n("J1rc"),q=n("ha4E"),P=(a.a.createElement,function(e){var t=e.reviews;return(null===t||void 0===t?void 0:t.length)?Object(d.e)("div",null,t.map((function(e){return Object(d.e)(h,{key:e._id,rating:e.rating,title:e.title,createdDate:e.createdDate,body:e.body,employeeResponse:e.employeeResponse,displayName:e.displayName})}))):null});a.a.createElement;function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){var e=Object(k.a)(['\n    query EscapeReviews($escapeId: ObjectId!, $next: String) {\n        escapeReviews(filter: {\n            status: { EQ: "Approved" },\n            escapeId: { EQ: $escapeId },\n        }, pagination: {\n            next: $next,\n            limit: 5,\n        }) {\n            items {\n                ...EscapeReviewParts\n            }\n            hasNext\n            hasPrevious\n            next\n        }\n    }\n    ',"\n"]);return _=function(){return e},e}function z(){var e=Object(k.a)(["\n    query Escape($slug: String!, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter,\n        }) {\n            items {\n                _id\n                nbReviews\n                averageRating\n            }\n        }\n    }\n"]);return z=function(){return e},e}var D=Object(S.gql)(z()),$=Object(S.gql)(_(),T.a),A=Object(E.a)("h3",{target:"e8tof610"})(Object(x.a)({marginBottom:16,fontSize:21,lineHeight:1.5,fontWeight:o.f.bold},o.i.sm,{fontSize:24}),""),I=Object(E.a)("div",{target:"e8tof611"})((function(e){var t=e.showMore;return{"::after":{position:"absolute",bottom:0,height:256,width:"100%",content:t?"''":"none",background:t?"linear-gradient(to top, rgba(255,255,255, 1) 20%, rgba(255,255,255, 0) 80%);":"initial"}}}),""),Q=Object(E.a)(q.a,{target:"e8tof612"})({name:"1yrr11r",styles:"display:flex;margin:8px auto 0;"}),W={name:"1j5kjuv",styles:"margin-top:64px;position:relative;"},L=function(){var e,t,n,i,r,o=Object(R.useRouter)().query,c=Object(S.useQuery)(D,{variables:{slug:o.slug,statusFilter:(null===o||void 0===o?void 0:o.preview)?void 0:{EQ:"Active"}}}).data,s=null===c||void 0===c?void 0:null===(e=c.escapes)||void 0===e?void 0:null===(t=e.items)||void 0===t?void 0:t[0];if(!s)return null;var l=Object(S.useQuery)($,{variables:{escapeId:null===s||void 0===s?void 0:s._id,next:void 0}}),u=l.data,v=l.loading,p=l.fetchMore,g=null===u||void 0===u?void 0:null===(n=u.escapeReviews)||void 0===n?void 0:n.next,m=null===u||void 0===u?void 0:null===(i=u.escapeReviews)||void 0===i?void 0:i.items,f=null===u||void 0===u?void 0:null===(r=u.escapeReviews)||void 0===r?void 0:r.hasNext;if(!(null===m||void 0===m?void 0:m.length))return null;return Object(d.e)(a.a.Fragment,null,Object(d.e)("div",{id:"escapesReviews",css:W},Object(d.e)(I,{showMore:f},Object(d.e)(A,null,"Reviews"),Object(d.e)(b,{nbReviews:s.nbReviews,averageRating:s.averageRating}),Object(d.e)(P,{reviews:m}))),f&&Object(d.e)(Q,{onClick:function(){p({variables:{escapeId:null===s||void 0===s?void 0:s._id,next:g},updateQuery:function(e,t){var n,i,r=t.fetchMoreResult,a=null===e||void 0===e?void 0:null===(n=e.escapeReviews)||void 0===n?void 0:n.items,o=null===r||void 0===r?void 0:null===(i=r.escapeReviews)||void 0===i?void 0:i.items;return{escapeReviews:C(C({},null===r||void 0===r?void 0:r.escapeReviews),{},{items:[].concat(Object(w.a)(a),Object(w.a)(o))})}}})},loading:v},"Show more reviews"))}},gAdt:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n("q1tI"),r=n.n(i),a=(n("qKvR"),r.a.createElement,n("h4VS")),o=n("nOHt"),c=n("VX74"),s=n("pFCb");function l(){var e=Object(a.a)(["\n    query Story($params: StoryInput!) {\n        story(params: $params) {\n            name\n            content\n        }\n    }\n"]);return l=function(){return e},e}var d=Object(c.gql)(l()),u=function(e){var t,n,r=e.prefix,a=e.path,l=Object(o.useRouter)().asPath,u=Object(s.c)(),v=u.version,b=u.releaseId,p="".concat(r).concat(null!==(t=a)&&void 0!==t?t:l).split("#")[0],g=Object(c.useQuery)(d,{variables:{params:{fullSlug:p,version:v,releaseId:b}}}),m=g.data,f=g.loading,j=g.error,O=Object(i.useState)(null===m||void 0===m?void 0:m.story),h=O[0],y=O[1],w=Object(i.useState)(!1),x=w[0],k=w[1];return Object(i.useEffect)((function(){x||k(!0)})),Object(i.useEffect)((function(){x&&window.storyblok&&(window.storyblok.init({accessToken:"2Z738XeQMmpjnywvf8hnrwtt"}),window.storyblok.on(["change","published"],(function(){return location.reload(!0)})),window.storyblok.on("input",(function(e){var t;(null===e||void 0===e?void 0:e.story.content._uid)===(null===h||void 0===h?void 0:null===(t=h.content)||void 0===t?void 0:t._uid)&&y(null===e||void 0===e?void 0:e.story)})))}),[x]),Object(i.useEffect)((function(){y(h)}),[m]),{result:null!==(n=h)&&void 0!==n?n:null===m||void 0===m?void 0:m.story,loading:f,error:j}}}}]);