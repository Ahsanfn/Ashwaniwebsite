(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{"/a9y":function(e,t,n){"use strict";var r=n("/GRZ"),i=n("i2R6"),o=n("48fX"),c=n("tCBg"),a=n("T0f4");function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=a(e);if(t){var i=a(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}var l=n("AroE");t.__esModule=!0,t.default=void 0;var s=l(n("q1tI")),d=l(n("8Kt/")),p={400:"Bad Request",404:"This page could not be found",405:"Method Not Allowed",500:"Internal Server Error"};function f(e){var t=e.res,n=e.err;return{statusCode:t&&t.statusCode?t.statusCode:n?n.statusCode:404}}var g=function(e){o(n,e);var t=u(n);function n(){return r(this,n),t.apply(this,arguments)}return i(n,[{key:"render",value:function(){var e=this.props.statusCode,t=this.props.title||p[e]||"An unexpected error has occurred";return s.default.createElement("div",{style:v.error},s.default.createElement(d.default,null,s.default.createElement("title",null,e,": ",t)),s.default.createElement("div",null,s.default.createElement("style",{dangerouslySetInnerHTML:{__html:"body { margin: 0 }"}}),e?s.default.createElement("h1",{style:v.h1},e):null,s.default.createElement("div",{style:v.desc},s.default.createElement("h2",{style:v.h2},t,"."))))}}]),n}(s.default.Component);t.default=g,g.displayName="ErrorPage",g.getInitialProps=f,g.origGetInitialProps=f;var v={error:{color:"#000",background:"#fff",fontFamily:'-apple-system, BlinkMacSystemFont, Roboto, "Segoe UI", "Fira Sans", Avenir, "Helvetica Neue", "Lucida Grande", sans-serif',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},desc:{display:"inline-block",textAlign:"left",lineHeight:"49px",height:"49px",verticalAlign:"middle"},h1:{display:"inline-block",borderRight:"1px solid rgba(0, 0, 0,.3)",margin:0,marginRight:"20px",padding:"10px 23px 10px 0",fontSize:"24px",fontWeight:500,verticalAlign:"top"},h2:{fontSize:"14px",fontWeight:"normal",lineHeight:"inherit",margin:0,padding:0}}},"5mhe":function(e,t,n){"use strict";n.r(t),n.d(t,"ESCAPE_QUERY",(function(){return P}));var r=n("o0o1"),i=n.n(r),o=n("HaE+"),c=n("rePB"),a=n("h4VS"),u=n("wTIg"),l=n("eomm"),s=n.n(l),d=n("cZi2"),p=n("1L/7"),f=n("M1pw"),g=n("CzWU"),v=n("pFCb"),b=n("SLk2"),m=n("B/Bu"),O=n("q1tI"),j=n.n(O),h=n("3n7N"),y=n("f7mN"),w=n("gAdt"),x=n("VX74"),E=n("rZGM"),A=n("qKvR");j.a.createElement;function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function I(){var e=Object(a.a)(['\n    query FindEscape($slug: String!, $statusFilter: StringFilter) {\n        escapes(filter: {\n            slug: {\n                EQ: $slug,\n            },\n            status: $statusFilter\n        }) {\n            items {\n                leadInPrice {\n                    USD {\n                        formatted(format:"$0.00")\n                    }\n                    CAD {\n                        formatted(format:"$0.00")\n                    }\n                }\n                averageRating\n                nbReviews\n                _id\n                title\n                name\n                description\n                coverImage {\n                    url\n                }\n                videoUrl\n                slug\n            }\n        }\n    }\n']);return I=function(){return e},e}var P=Object(x.gql)(I()),R=Object(u.a)("h3",{target:"eqamvu30"})(Object(c.a)({marginBottom:16,fontSize:21,fontWeight:d.f.bold,paddingLeft:16},d.i.sm,{fontSize:24,textAlign:"center"}),""),D=function(e){var t,n,r,i,o,c,a,u=e.escape,l=Object(v.c)().market,d=Object(w.a)({prefix:"CA"===l?"en-ca":"en-us"}).result,j=null===d||void 0===d?void 0:null===(t=d.content)||void 0===t?void 0:null===(n=t.seo)||void 0===n?void 0:n[0],x="CA"===l?"CAD":"USD",C="CA"===l?".ca":".com",I={"@context":"https://schema.org","@type":"Product",url:"https://www.goaheadtours".concat(C,"/online-escapes/").concat(u.slug),image:null===(r=u.coverImage)||void 0===r?void 0:r.url,description:u.title,name:u.name,aggregateRating:u.averageRating?{"@type":"AggregateRating",ratingValue:u.averageRating,reviewCount:u.nbReviews}:void 0,offers:{"@type":"Offer",priceCurrency:x,price:null!==(i=null===(o=u.leadInPrice)||void 0===o?void 0:null===(c=o[x])||void 0===c?void 0:c.formatted)&&void 0!==i?i:0,url:"https://www.goaheadtours".concat(C,"/online-escapes/").concat(u.slug),itemCondition:"https://schema.org/NewCondition",availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:"Go Ahead Tours"}}};return Object(O.useEffect)((function(){u&&Object(h.d)({event:"eeDetail",ecommerce:{detail:{products:[{id:u._id,name:u.name,variant:"escape",category:u._id}]}}})}),[u]),u?Object(A.e)("div",{"data-gtm-category":"online escapes"},Object(A.e)(b.a,{content:S(S({},j),{},{ogImage:(null===j||void 0===j?void 0:j.ogImage)||(null===(a=u.coverImage)||void 0===a?void 0:a.url),ogVideo:(null===j||void 0===j?void 0:j.ogVideo)||u.videoUrl,ogVideoSecureUrl:(null===j||void 0===j?void 0:j.ogVideoSecureUrl)||u.videoUrl})}),Object(A.e)(m.a,{escapeId:u._id}),Object(A.e)(f.a,null),Object(A.e)(p.a,null),Object(A.e)(g.j,null,Object(A.e)(R,null,"More Online Escapes you might like")),Object(A.e)(y.a,null,Object(A.e)(y.b,null),Object(A.e)(y.c,null)),Object(A.e)(E.a,{data:I})):Object(A.e)(s.a,{statusCode:404})};D.getInitialProps=function(){var e=Object(o.a)(i.a.mark((function e(t){var n,r,o,c,a,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.slug,e.prev=1,e.next=4,t.apolloClient.query({query:P,variables:{slug:n,statusFilter:(null===(r=t.query)||void 0===r?void 0:r.preview)?void 0:{EQ:"Active"}}});case 4:return a=e.sent,(u=null===a||void 0===a?void 0:null===(o=a.data)||void 0===o?void 0:null===(c=o.escapes)||void 0===c?void 0:c.items[0])||(t.res.statusCode=404),e.abrupt("return",{escape:u});case 10:return e.prev=10,e.t0=e.catch(1),t.res&&(t.res.statusCode=404),e.abrupt("return",{});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),t.default=D},"B/Bu":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("q1tI"),i=n.n(r),o=n("3n7N"),c=function(e){var t=e.tourCode,n=e.escapeId;return Object(r.useEffect)((function(){return Object(o.d)({event:"pageview",tourCode:t,escapeId:n})}),[]),null},a=n("qKvR"),u=(i.a.createElement,Object(r.createContext)(null)),l=function(e){var t=e.children,n=Object(r.useState)(""),i=n[0],o=n[1];return Object(a.e)(u.Provider,{value:{tourCode:i,setTourCode:o}},t)}},SLk2:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("q1tI"),i=n.n(r),o=n("8Kt/"),c=n.n(o),a=n("qKvR"),u=(i.a.createElement,function(e){var t=e.content;return t?Object(a.e)(c.a,null,t.title&&Object(a.e)("title",null,t.title),Object(a.e)("meta",{name:"robots",content:"".concat(t.noIndex?"NOINDEX":"INDEX",", ").concat(t.noFollow?"NOFOLLOW":"FOLLOW")}),Object(a.e)("meta",{name:"description",content:t.description}),Object(a.e)("meta",{property:"og:title",content:t.ogTitle}),Object(a.e)("meta",{property:"og:description",content:t.ogDescription}),Object(a.e)("meta",{property:"og:url",content:t.ogUrl}),Object(a.e)("meta",{property:"og:type",content:t.ogType}),Object(a.e)("meta",{property:"og:image",content:t.ogImage}),Object(a.e)("meta",{property:"og:video",content:t.ogVideo}),Object(a.e)("meta",{property:"og:video:secure_url",content:t.ogVideoSecureUrl}),Object(a.e)("meta",{property:"og:video:width",content:t.ogVideoWidth}),Object(a.e)("meta",{property:"og:video:height",content:t.ogVideoHeight}),Object(a.e)("meta",{name:"twitter:card",content:t.twitterCard}),Object(a.e)("meta",{name:"twitter:site",content:"@goaheadtours"})):null})},X924:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/online-escapes/[slug]",function(){return n("5mhe")}])},car3:function(e,t,n){"use strict";n.d(t,"a",(function(){return x})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return O}));var r,i,o,c,a=n("wx14"),u=n("rePB"),l=n("iYmT"),s=n("Ff2n"),d=n("q1tI"),p=n.n(d),f=n("cZi2"),g="100%",v="544px",b="736px",m="960px",O="1200px",j={full:{width:"100%"},extraLarge:(r={},Object(u.a)(r,f.i.xs,{width:g}),Object(u.a)(r,f.i.sm,{width:v}),Object(u.a)(r,f.i.md,{width:b}),Object(u.a)(r,f.i.lg,{width:m}),Object(u.a)(r,f.i.xl,{width:O}),r),large:(i={},Object(u.a)(i,f.i.xs,{width:g}),Object(u.a)(i,f.i.sm,{width:v}),Object(u.a)(i,f.i.md,{width:b}),Object(u.a)(i,f.i.lg,{width:m}),i),medium:(o={},Object(u.a)(o,f.i.xs,{width:g}),Object(u.a)(o,f.i.sm,{width:v}),Object(u.a)(o,f.i.md,{width:b}),o),small:(c={},Object(u.a)(c,f.i.xs,{width:g}),Object(u.a)(c,f.i.sm,{width:v}),c),xs:Object(u.a)({},f.i.xs,{width:320,maxWidth:"100%"})},h=n("qKvR");p.a.createElement;function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){Object(u.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=function(e){var t,n,r=e.children,i=e.width,o=(e.id,e.size),c=Object(s.a)(e,["children","width","id","size"]),u=null!==(t=o)&&void 0!==t?t:j[null!==(n=i)&&void 0!==n?n:"extraLarge"];return Object(h.e)("div",Object(a.a)({},c,{css:Object(l.a)(w({boxSizing:"border-box",margin:"0 auto"},u),"")}),r)}},eomm:function(e,t,n){e.exports=n("/a9y")},uUrX:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("wx14"),i=n("Ff2n"),o=n("q1tI"),c=n.n(o),a=n("qKvR"),u=(c.a.createElement,"data:image/png;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="),l=function(e){var t=e.src,n=e.sources,c=e.className,l=Object(i.a)(e,["src","sources","className"]),s=Object(o.useRef)(null),d=Object(o.useState)(!1),p=d[0],f=d[1];Object(o.useEffect)((function(){var e,t=function(){f(!0)};return IntersectionObserver?(e=new IntersectionObserver((function(e){var t=e[0];(null===t||void 0===t?void 0:t.intersectionRatio)>0&&f(!0)}))).observe(s.current):("complete"===document.readyState&&f(!0),window.addEventListener("load",t)),function(){window.removeEventListener("load",t),e&&(e.unobserve(s.current),e.disconnect())}}),[]);var g=p?t:u;return Object(a.e)("picture",l,null===n||void 0===n?void 0:n.map((function(e,t){var n=e.type,r=e.media,o=Object(i.a)(e,["type","media"]),c=p?o.srcSet:u;return Object(a.e)("source",{srcSet:c,type:n,media:r,key:t})})),Object(a.e)("img",Object(r.a)({},l,{className:c,src:g,ref:s})))}}},[["X924",0,1,9,8,5,7,10,17,19,2,3,4,6,11,13,14,16,18,20,23,24,30]]]);